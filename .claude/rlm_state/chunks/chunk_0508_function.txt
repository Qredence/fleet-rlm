<!-- Chunk 508: bytes 854673-855229, type=function -->
def multi_criteria_reward(args, pred: dspy.Prediction) -> float:
    """Weighted average of multiple criteria."""
    criteria = {
        'accuracy': args.expected == pred.answer,
        'length': 10 <= len(pred.answer) <= 1000,
        'format': '|' in pred.answer  # Check for specific format
    }

    weights = {'accuracy': 0.5, 'length': 0.3, 'format': 0.2}
    score = sum(criteria[k] * weights[k] for k in criteria)

    return score
```

## Best Practices

### 1. Define Clear Reward Functions

```python
# Good: Clear, specific reward function
