<!-- Chunk 1872: bytes 7655219-7655924, type=class -->
class DependencyClosure(Base):
    """Closure table for dependency graph traversal."""

    __tablename__ = "dependency_closure"

    ancestor_id: Mapped[int] = mapped_column(
        Integer, ForeignKey("skills.skill_id"), primary_key=True
    )
    descendant_id: Mapped[int] = mapped_column(
        Integer, ForeignKey("skills.skill_id"), primary_key=True
    )
    min_depth: Mapped[int] = mapped_column(Integer, nullable=False, primary_key=True)
    dependency_types: Mapped[list[str]] = mapped_column(ARRAY(String), nullable=False)

    __table_args__ = (
        Index("idx_dependency_closure_ancestor", "ancestor_id"),
        Index("idx_dependency_closure_descendant", "descendant_id"),
    )


