<!-- Chunk 2103: bytes 8028555-8029331, type=function -->
def test_validation_failure_for_missing_fields_v1(temp_skills_root_v1: Path) -> None:
    """Test v1 skill validation fails when metadata.json is missing required fields."""
    skill_dir = temp_skills_root_v1 / "general/bad_skill"
    skill_dir.mkdir(parents=True)
    for dirname in ["capabilities", "examples", "tests", "resources"]:
        (skill_dir / dirname).mkdir()

    metadata = {"skill_id": "general/bad_skill"}
    (skill_dir / "metadata.json").write_text(json.dumps(metadata), encoding="utf-8")
    (skill_dir / "SKILL.md").write_text("# Bad Skill\n\n## Overview\n", encoding="utf-8")

    validator = SkillValidator(temp_skills_root_v1)
    results = validator.validate_complete(skill_dir)

    assert results["passed"] is False
    assert results["errors"]


