<!-- Chunk 1054: bytes 3773967-3781731, type=function -->
def test_user_id_sanitization():
    """Test that malicious user IDs are sanitized."""
    with pytest.raises(ValueError):
        sanitize_user_id("../../../etc/passwd")
```

---

## Conclusion

The skill-fleet CLI follows good security practices in many areas:
- ‚úÖ No secrets logged or printed
- ‚úÖ Environment variables used for sensitive data
- ‚úÖ Path normalization via `.resolve()`

However, several medium-risk vulnerabilities should be addressed:
- ‚ùå No validation that paths stay within allowed directories
- ‚ùå No API URL protocol validation
- ‚ùå No user ID sanitization

**Overall Security Posture:** Good with actionable improvements needed
**Estimated Effort to Mitigate:** 2-3 days (including tests)
**Priority:** Medium (address before production deployment)

---

**Review Methodology:**
- Static analysis of CLI code
- Manual testing of path operations
- Grep searches for dangerous patterns
- Review of error handling and logging

**Next Steps:**
1. Implement path validation utility functions
2. Add input sanitization to all CLI arguments
3. Create security test suite
4. Update documentation with security guidelines
5. Consider security audit before major release


============================================================
END FILE: docs/internal/plans/archive/cli-security-review.md
============================================================

============================================================
FILE: docs/internal/plans/archive/cli-test-coverage.md
============================================================

# CLI Test Coverage Analysis

## Commands with No Tests
- `main.py:create_skill()` - Complex workflow with reasoning tracing
- `main.py:validate_skill()` - Skill validation logic
- `main.py:migrate_skills_cli()` - Migration tool
- `main.py:generate_xml_cli()` - XML generation
- `main.py:optimize_workflow_cli()` - MIPROv2/GEPA optimization
- `main.py:show_analytics()` - Analytics display
- `app.py:serve_command()` - Server startup
- `app.py:create_command()` - Typer-based create flow
- `app.py:list_command()` - List skills
- `app.py:chat_command()` - Interactive chat dashboard

## Missing Test Scenarios

### main.py
- [ ] Command-line argument parsing and validation
- [ ] Error handling for missing required arguments
- [ ] JSON output format validation
- [ ] Dry-run mode for migrate command
- [ ] Reasoning tracer integration (cli, debug, full modes)

### interactive_cli.py
- [ ] Session persistence and loading
- [ ] Checklist status display
- [ ] Multi-skill queue management
- [ ] Command handling (/help, /exit, /save, etc.)
- [ ] Streaming display with Rich Live
- [ ] Multi-choice question formatting

### client.py
- [ ] HTTP client initialization with custom URLs
- [ ] API error handling (4xx, 5xx responses)
- [ ] Timeout and retry logic
- [ ] Connection cleanup in finally blocks

### Commands/*.py
- [ ] HITL polling loop behavior
- [ ] Auto-approve mode flow
- [ ] Interactive prompts and validation
- [ ] Dashboard layout rendering
- [ ] Session state transitions


============================================================
END FILE: docs/internal/plans/archive/cli-test-coverage.md
============================================================

============================================================
FILE: docs/internal/plans/archive/implementation-phase-1.md
============================================================

# Complete Chronological Implementation Strategy

## üéØ Overview Timeline
- **Phase 1**: Foundation (Week 1-2) - 2 weeks
- **Phase 2**: Core Workflow (Week 3-4) - 2 weeks  
- **Phase 3**: Onboarding System (Week 5-6) - 2 weeks
- **Phase 4**: Dynamic Generation (Week 7-9) - 3 weeks
- **Phase 5**: Intelligence Layer (Week 10-12) - 3 weeks
- **Phase 6**: Production Hardening (Week 13-14) - 2 weeks

**Total: 14 weeks to production-ready system**

---

# PHASE 1: Foundation (Week 1-2)

## Week 1: Taxonomy Structure & Core Infrastructure

### Day 1-2: Repository Setup
```bash
# Create project structure
mkdir -p agentic-skills-system/{skills,src,tests,docs,config}
cd agentic-skills-system

# Initialize Git
git init
git checkout -b main

# Create taxonomy structure
mkdir -p skills/{_core,_templates,cognitive_skills,technical_skills,domain_knowledge,tool_proficiency,mcp_capabilities,specializations,task_focus_areas,memory_blocks}

# Technical skills subdirectories
mkdir -p skills/technical_skills/{programming,data_engineering,infrastructure,security,apis_integration}
mkdir -p skills/technical_skills/programming/{languages,paradigms,practices}

# Add .gitkeep to empty directories
find skills -type d -empty -exec touch {}/.gitkeep \;

# Create essential directories
mkdir -p src/{taxonomy,workflow,generators,validators,analytics}
mkdir -p tests/{unit,integration,e2e}
mkdir -p config/{profiles,templates}
mkdir -p docs/{architecture,api,guides}
```

### Day 3-4: Core Taxonomy Files

**File: skills/taxonomy_meta.json**
```json
{
  "version": "0.1.0",
  "created_at": "2026-01-06",
  "last_updated": "2026-01-06",
  "schema_version": "1.0.0",
  "total_skills": 0,
  "generation_count": 0,
  "statistics": {
    "by_type": {},
    "by_weight": {},
    "by_priority": {}
  },
  "bootstrap_profiles": [
    "web_developer",
    "data_scientist",
    "devops_engineer",
    "ml_engineer",
    "general_purpose"
  ],
  "metadata_schema": {
    "skill_id": "string (required, unique)",
    "version": "string (required, semver)",
    "type": "enum (cognitive|technical|domain|tool|mcp|specialization|task_focus|memory)",
    "weight": "enum (lightweight|medium|heavyweight)",
    "load_priority": "enum (always|task_specific|on_demand|dormant)",
    "dependencies": "array of skill_ids",
    "capabilities": "array of strings",
    "created_at": "ISO 8601 datetime",
    "last_modified": "ISO 8601 datetime",
    "generation_reason": "string",
    "usage_count": "integer",
    "success_rate": "float 0-1"
  }
}
```

**File: skills/_core/reasoning.json**
```json
{
  "skill_id": "core.reasoning",
  "version": "1.0.0",
  "type": "cognitive",
  "weight": "lightweight",
  "load_priority": "always",
  "always_loaded": true,
  "dependencies": [],
  "capabilities": [
    "logical_inference",
    "problem_decomposition",
    "constraint_satisfaction",
    "causal_reasoning"
  ],
  "description": "Core reasoning capabilities always available to agents",
  "created_at": "2026-01-06T00:00:00Z",
  "last_modified": "2026-01-06T00:00:00Z"
}
```

**File: skills/_core/communication.json**
```json
{
  "skill_id": "core.communication",
  "version": "1.0.0",
  "type": "cognitive",
  "weight": "lightweight",
  "load_priority": "always",
  "always_loaded": true,
  "dependencies": [],
  "capabilities": [
    "natural_language_understanding",
    "intent_extraction",
    "response_generation",
    "context_tracking"
  ],
  "description": "Core communication and language understanding",
  "created_at": "2026-01-06T00:00:00Z",
  "last_modified": "2026-01-06T00:00:00Z"
}
```

**File: skills/_core/state_management.json**
```json
{
  "skill_id": "core.state_management",
  "version": "1.0.0",
  "type": "mcp",
  "weight": "lightweight",
  "load_priority": "always",
  "always_loaded": true,
  "dependencies": [],
  "capabilities": [
    "session_persistence",
    "context_serialization",
    "state_recovery",
    "history_tracking"
  ],
  "description": "Core stateful interaction management",
  "created_at": "2026-01-06T00:00:00Z",
  "last_modified": "2026-01-06T00:00:00Z"
}
```

### Day 5: Taxonomy Manager Implementation

**File: src/taxonomy/manager.py**
```python
"""Taxonomy management system."""
import json
from pathlib import Path
from typing import Dict, List, Optional, Set
from dataclasses import dataclass
from datetime import datetime

@dataclass
