<!-- Chunk 1210: bytes 4557825-4560524, type=function -->
def main() -> int:
    """Main entry point."""
    print("=" * 60)
    print("Skills-Fleet Database Migration")
    print("=" * 60)

    # Check database connection
    print("\nüîç Checking database connection...")
    if not check_database_connection():
        print("‚ùå Cannot connect to database!")
        print("\nüí° Tips:")
        print("   1. Make sure DATABASE_URL is set in your environment")
        print("   2. Format: postgresql://user:password@host/database?sslmode=require")
        print("   3. Get connection string from: https://console.neon.tech")
        return 1

    print("‚úÖ Database connection verified")

    # Confirm before proceeding
    print("\n‚ö†Ô∏è  This will create/modify database tables.")
    try:
        response = input("Proceed? (yes/no): ").strip().lower()
        if response not in ("yes", "y"):
            print("Migration cancelled.")
            return 0
    except (EOFError, KeyboardInterrupt):
        print("\nMigration cancelled.")
        return 0

    # Apply migration
    try:
        apply_migration()
        print("\n" + "=" * 60)
        print("Migration complete! üéâ")
        print("=" * 60)
        return 0
    except Exception as e:
        print(f"\n‚ùå Error: {e}")
        import traceback

        traceback.print_exc()
        return 1


if __name__ == "__main__":
    sys.exit(main())


============================================================
END FILE: scripts/archive/apply_migration_sqlalchemy.py
============================================================

============================================================
FILE: scripts/archive/import_skills.py
============================================================

#!/usr/bin/env python3
"""
Skills-Fleet Skill Importer

This script imports skills from the .skills/ directory into the database.
It parses the agentSkills.io specification (YAML frontmatter + markdown).
"""

import os
import re
import sys
from pathlib import Path
from typing import Any

import yaml

# Add parent directory to path
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

import os as python_os

from dotenv import load_dotenv

# Import models and repositories
from skill_fleet.db.models import (
    Skill,
    load_priority_enum,
    skill_status_enum,
    skill_type_enum,
    skill_weight_enum,
)
from skill_fleet.db.repositories import SkillRepository, TaxonomyRepository
from sqlalchemy import create_engine
from sqlalchemy.orm import Session

load_dotenv()
DATABASE_URL = python_os.getenv("DATABASE_URL", "")

if DATABASE_URL and not DATABASE_URL.startswith("postgresql+"):
    DATABASE_URL = DATABASE_URL.replace("postgresql://", "postgresql+psycopg://")


