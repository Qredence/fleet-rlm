<!-- Chunk 1491: bytes 6329948-6332042, type=class -->
class ValidationException(SkillFleetAPIError):
    """Exception for skill validation failures."""

    status_code: int = 400

    def __init__(
        self,
        detail: str,
        validation_score: float | None = None,
    ) -> None:
        """
        Initialize validation exception.

        Args:
            detail: Error message explaining validation failure
            validation_score: Optional validation score

        """
        extra: dict[str, Any] = {}
        if validation_score is not None:
            extra["validation_score"] = validation_score

        super().__init__(
            detail=detail,
            status_code=400,
        )
        self.extra = extra


__all__ = [
    "SkillFleetAPIError",
    "NotFoundException",
    "BadRequestException",
    "UnauthorizedException",
    "ForbiddenException",
    "ConflictException",
    "UnprocessableEntityException",
    "TooManyRequestsException",
    "InternalServerErrorException",
    "ServiceUnavailableException",
    "JobException",
    "HITLException",
    "ValidationException",
]


============================================================
END FILE: src/skill_fleet/api/exceptions.py
============================================================

============================================================
FILE: src/skill_fleet/api/factory.py
============================================================

"""FastAPI server for Skill Fleet with auto-discovery and HITL support."""

from __future__ import annotations

import logging

from fastapi import FastAPI, Request, status
from fastapi.exceptions import RequestValidationError
from fastapi.middleware.cors import CORSMiddleware
from fastapi.responses import JSONResponse
from starlette.exceptions import HTTPException as StarletteHTTPException

from skill_fleet.dspy import configure_dspy

from .config import get_settings
from .exceptions import SkillFleetAPIError
from .lifespan import lifespan
from .middleware.logging import ErrorHandlingMiddleware, LoggingMiddleware

logger = logging.getLogger(__name__)
settings = get_settings()


