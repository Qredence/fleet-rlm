<!-- Chunk 273: bytes 344614-347333, type=function -->
def print_analysis_results(results: list[dict[str, Any]]) -> None:
    """Print analysis results in a readable format."""
    total_issues = sum(len(r.get("issues", [])) for r in results)

    if total_issues == 0:
        print("âœ… No concurrency issues detected!")
        print("\nNote: This analysis catches common patterns but cannot detect all")
        print("concurrency issues. Manual review is still recommended for async code.")
        return

    print(f"ğŸ” Found {total_issues} potential concurrency issues:\n")

    # Group by severity
    critical = []
    warnings = []
    infos = []

    for result in results:
        if "error" in result:
            print(f"âš ï¸  Error analyzing {result['filepath']}: {result['error']}\n")
            continue

        for issue in result.get("issues", []):
            issue["filepath"] = result["filepath"]
            if issue["severity"] == "critical":
                critical.append(issue)
            elif issue["severity"] == "warning":
                warnings.append(issue)
            else:
                infos.append(issue)

    # Print critical issues
    if critical:
        print(f"{'='*80}")
        print(f"ğŸ”´ CRITICAL ({len(critical)}) - Fix before deploying to production")
        print(f"{'='*80}\n")

        for issue in critical:
            print(f"ğŸ“„ {issue['filepath']}:{issue['line']}")
            if "class" in issue:
                print(f"   Class: {issue['class']}, Method: {issue['function']}")
            print(f"   {issue['message']}\n")

    # Print warnings
    if warnings:
        print(f"{'='*80}")
        print(f"âš ï¸  WARNINGS ({len(warnings)}) - Review for potential issues")
        print(f"{'='*80}\n")

        for issue in warnings:
            print(f"ğŸ“„ {issue['filepath']}:{issue['line']}")
            if "class" in issue:
                print(f"   Class: {issue['class']}, Method: {issue['function']}")
            print(f"   {issue['message']}\n")

    # Print info
    if infos:
        print(f"{'='*80}")
        print(f"â„¹ï¸  INFO ({len(infos)}) - Consider reviewing")
        print(f"{'='*80}\n")

        for issue in infos:
            print(f"ğŸ“„ {issue['filepath']}:{issue['line']}")
            print(f"   {issue['message']}\n")

    # Print remediation guidance
    print(f"{'='*80}")
    print("ğŸ“‹ REMEDIATION GUIDANCE")
    print(f"{'='*80}\n")
    print("For shared state mutations in async code:")
    print("  1. Use request-scoped instances instead of shared singletons")
    print("  2. Pass state through function parameters or context objects")
    print("  3. Use asyncio.Lock for necessary shared state")
    print("  4. Make shared state immutable (frozen dataclasses, tuples)")
    print()


