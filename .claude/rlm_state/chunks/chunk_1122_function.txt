<!-- Chunk 1122: bytes 4215832-4216572, type=function -->
def gepa_metric(gold, pred, trace=None, pred_name=None, pred_trace=None):
    """GEPA metric must accept 5 parameters."""
    score = your_simple_metric(gold, pred, trace)
    feedback = f"Score: {score:.2f}"  # Optional: add rich feedback
    return {"score": score, "feedback": feedback}

optimizer = dspy.GEPA(
    metric=gepa_metric,
    reflection_lm=reflection_lm,
    auto="light",                   # light, medium, heavy
)
optimized = optimizer.compile(program, trainset=trainset)
```

**Characteristics**:
- ✅ Good quality improvements (10-15%)
- ✅ Reflection-based (LLM analyzes failures)
- ✅ Supports rich textual feedback
- ⚠️ Requires a reflection LM

## Metric Design

### Basic Metric (Works with All Optimizers)

```python
