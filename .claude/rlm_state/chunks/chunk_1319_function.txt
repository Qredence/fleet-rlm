<!-- Chunk 1319: bytes 4844156-4849954, type=function -->
def persist(s: Storage, payload: bytes):
    s.save(payload)  # ty validates 's' implements 'save'
```

## Usage Examples

### Installation

Install `ty` as a development dependency using `uv`.

```bash
# Add to current project
uv add --dev ty-checker

# Or install as a global tool
uv tool install ty-checker
```

### Local Development Loop

Use `uv` to run `ty` instantly.

```bash
# Check the entire project
uv run ty check .

# Check specific files with verbose diagnostics
uv run ty check src/models.py --verbose

# Watch mode
uv run ty check . --watch
```

### CI/CD Integration (GitHub Actions)

```yaml
jobs:
  type-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: astral-sh/setup-uv@v3
      - name: Run Type Checker
        run: uv run ty check . --format github
```

## Common Mistakes

| Mistake                     | Why It's Wrong                                 | Fix                                                |
| --------------------------- | ---------------------------------------------- | -------------------------------------------------- |
| Running without `uv run`    | `ty` may not find your project's dependencies. | Always use `uv run ty` or an active `VIRTUAL_ENV`. |
| Over-using `# type: ignore` | Masks architectural flaws and weakens safety.  | Use `TypeAlias` or `TypeGuard` instead.            |
| Manually excluding `venv`   | `ty` automatically respects `.gitignore`.      | Remove explicit `venv` from your `exclude` list.   |

## Strong Guidance

- **ALWAYS use `level = "strict"` for new projects** — Retrospective strictness is 10x harder to implement.
- **NEVER use global `# type: ignore`** — Use specific error codes (e.g., `# ty: ignore[call-arg]`).
- **MUST sync `target-version` with your runtime minimum** — Prevents syntax errors when using newer typing syntax.
- **ALWAYS integrate `ty` into your pre-commit hooks** — Execution cost is near-zero; catches errors before CI.
- **NO untrusted `pyproject.toml` configs without review** — Malicious configurations could leak environment data.

## Red Flags

- `ty` taking more than 2 seconds on a medium-sized project (usually indicates circular dependencies).
- Excessive use of `Any` as a migration shortcut.
- Disparity between `ruff` and `ty` target versions in `pyproject.toml`.

## Real-World Impact

- **CI/CD Speed**: Replacing Mypy daemon overhead with instant cold-start checks reduces pre-commit latency by 5-10x.
- **Developer Confidence**: Strict typing on new code prevents bugs that only surface in production (caught 30%+ more issues in typical migrations).
- **Monorepo Scale**: Large projects (1M+ LOC) type-check in <5 seconds vs. 10+ minutes with Mypy.

---

## Validation

```bash
# Validate the ty configuration
uv run ty check --show-config

# Run the standard check
uv run ty check .

# Verify skill directory
uv run skill-fleet validate skills/python/ty-type-checker
```

**Authoring process:** See `writing-skills` for TDD-based skill creation checklist.


============================================================
END FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/SKILL.md
============================================================

============================================================
FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/best_practices.md
============================================================

[{'title': 'Enable Type Completeness', 'description': 'For library authors, ensure all public APIs are fully typed to provide a better experience for downstream consumers.', 'example': '[tool.ty.analysis]\ntype-completeness = true'}, {'title': 'Leverage UV for Environment Isolation', 'description': "Always run ty via 'uv run' to ensure the type checker sees exactly what your code sees at runtime.", 'example': 'uv run ty check .'}, {'title': 'Explicit Type Aliases', 'description': "Use the 'type' keyword (Python 3.12+) for readability. ty optimizes these aliases for faster lookup.", 'example': 'type UserID = int | str'}, {'title': "Avoid 'Any' in Public APIs", 'description': "Ty is optimized to trace types through deep hierarchies. Using 'Any' breaks this chain and forces ty to fall back to slower, less accurate checks.", 'example': 'def handle(data: dict[str, object]) -> None:  # Good\ndef handle(data: Any) -> None:  # Bad'}, {'title': 'Narrow Types Early', 'description': 'Use isinstance() checks or TypeGuards early in your functions to simplify the branching logic ty has to analyze.', 'example': 'if not isinstance(val, str): return\n# ty now treats val as str for the rest of the scope'}]

============================================================
END FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/best_practices.md
============================================================

============================================================
FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/examples/example_1.py
============================================================

[tool.ty]
target-version = "py312"
level = "strict"
include = ["src", "scripts"]
exclude = ["src/legacy_module.py"]

[tool.ty.analysis]
diagnostic-mode = "full"
type-completeness = true

============================================================
END FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/examples/example_1.py
============================================================

============================================================
FILE: skills/_drafts/2c7046b4-1f5d-4574-828a-f92f0ec6db6e/python/ty-type-checker/examples/example_2.py
============================================================

# File: payment_processor.py

