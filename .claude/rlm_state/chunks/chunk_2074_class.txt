<!-- Chunk 2074: bytes 7982930-7984417, type=class -->
class TestBaseModule:
    """Test BaseModule functionality."""

    def test_base_module_can_be_instantiated(self):
        """Should create instance without errors."""
        module = BaseModule()
        assert module is not None

    def test_forward_raises_not_implemented(self):
        """Should require subclasses to implement forward."""
        module = BaseModule()
        with pytest.raises(NotImplementedError):
            module.forward()

    def test_validate_result_with_dict(self):
        """Should validate dict results."""
        module = BaseModule()
        result = {"field1": "value1", "field2": "value2"}
        assert module._validate_result(result, ["field1", "field2"]) is True

    def test_validate_result_missing_fields(self):
        """Should detect missing fields."""
        module = BaseModule()
        result = {"field1": "value1"}
        assert module._validate_result(result, ["field1", "field2"]) is False

    def test_sanitize_input_truncates_long_strings(self):
        """Should truncate inputs over max length."""
        module = BaseModule()
        long_input = "x" * 20000
        result = module._sanitize_input(long_input, max_length=1000)
        assert len(result) < 1500  # Should be truncated
        assert "truncated" in result

    def test_sanitize_input_handles_none(self):
        """Should handle None input."""
        module = BaseModule()
        result = module._sanitize_input(None)
        assert result == ""


