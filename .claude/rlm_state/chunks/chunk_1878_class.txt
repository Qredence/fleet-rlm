<!-- Chunk 1878: bytes 7660912-7661975, type=class -->
class SkillAllowedTool(Base):
    """Tools a skill is allowed to use."""

    __tablename__ = "skill_allowed_tools"

    skill_id: Mapped[int] = mapped_column(
        Integer, ForeignKey("skills.skill_id", ondelete="CASCADE"), primary_key=True
    )
    tool_name: Mapped[str] = mapped_column(String(64), primary_key=True, nullable=False)
    required: Mapped[bool] = mapped_column(Boolean, nullable=False, default=False)
    description: Mapped[str | None] = mapped_column(Text, nullable=True)
    created_at: Mapped[datetime] = mapped_column(
        DateTime(timezone=True), nullable=False, server_default=func.now()
    )

    # Relationships
    skill: Mapped["Skill"] = relationship("Skill", back_populates="allowed_tools")

    __table_args__ = (
        Index("idx_skill_allowed_tools_tool", "tool_name"),
        Index("idx_skill_allowed_tools_skill", "skill_id"),
    )


# =============================================================================
# JOBS & WORKFLOW
# =============================================================================


