<!-- Chunk 422: bytes 599936-600839, type=class -->
class CustomCache(dspy.clients.Cache):

    def __init__(self, ttl=timedelta(hours=1), **kwargs):
        super().__init__(**kwargs)
        self.ttl = ttl

    def get(self, key):
        """Get value from cache with TTL check."""
        value = super().get(key)
        if value and value.get('timestamp'):
            age = datetime.now() - value['timestamp']
            if age > self.ttl:
                # Expired, remove from cache
                self.delete(key)
                return None
        return value.get('data') if value else None

    def set(self, key, value):
        """Set value in cache with timestamp."""
        super().set(key, {
            'data': value,
            'timestamp': datetime.now()
        })
```

## Cache Debugging

### Check Cache Hit Rate

Monitor cache effectiveness by tracking hits and misses:

```python
import dspy

# Create a simple cache monitor
