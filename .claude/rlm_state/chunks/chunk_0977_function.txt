<!-- Chunk 977: bytes 3428180-3428578, type=function -->
def test_api_url_validation_callback():
    """Test API URL is validated."""
    # Should accept valid URLs
    assert validate_api_url("http://localhost:8000") == "http://localhost:8000"
    assert validate_api_url("https://api.example.com") == "https://api.example.com"

    # Should reject invalid protocols
    with pytest.raises(ValueError):
        validate_api_url("ftp://localhost:8000")


