<!-- Chunk 1605: bytes 6607490-6609226, type=class -->
class TDDGreenHandler(InteractionHandler):
    """
    Handler for tdd_green interaction type.

    TDD Green Phase: User makes tests pass with minimal implementation.
    Shows failing test name, location, and implementation hint.

    User Actions:
    - proceed: All tests passing
    - revise: Need adjustment to approach
    - cancel: Cancel skill creation
    """

    async def handle(
        self,
        job_id: str,
        prompt_data: dict[str, Any],
        client: Any,
    ) -> None:
        """Handle TDD green phase interaction and post response to API."""
        failing_test = prompt_data.get("failing_test", "")
        test_location = prompt_data.get("test_location", "")
        hint = prompt_data.get("minimal_implementation_hint", "")

        content = f"[bold]Failing Test:[/bold] {failing_test}"
        if test_location:
            content += f"\n\n[dim]Location:[/dim] {test_location}"
        if hint:
            content += f"\n\n[dim]Hint:[/dim] {hint}"

        self.console.print(
            Panel(
                content,
                title="[bold green]ðŸŸ¢ TDD Green Phase: Make Tests Pass[/bold green]",
                border_style="green",
            )
        )

        action = await self.ui.choose_one(
            "Tests passing?",
            [
                ("proceed", "Yes, all tests pass"),
                ("revise", "Need adjustment"),
                ("cancel", "Cancel"),
            ],
            default_id="proceed",
        )

        payload: dict[str, object] = {"action": action}
        if action == "revise":
            payload["feedback"] = await self.ui.ask_text("What needs adjustment?", default="")
        await client.post_hitl_response(job_id, payload)


