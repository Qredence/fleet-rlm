<!-- Chunk 1239: bytes 4647358-4647994, type=function -->
def check_file_for_missing_docstrings(filepath: Path) -> list[dict]:
    """Check a Python file for public functions missing docstrings."""
    try:
        with open(filepath, encoding="utf-8") as f:
            content = f.read()

        tree = ast.parse(content)
        visitor = ComprehensiveFunctionVisitor()
        visitor.visit(tree)

        missing_docs = []
        for func_info in visitor.functions:
            if not func_info["has_docstring"]:
                missing_docs.append(func_info)

        return missing_docs
    except Exception as e:
        print(f"Error processing {filepath}: {e}")
        return []


