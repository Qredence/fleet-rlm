<!-- Chunk 1866: bytes 7649170-7650223, type=class -->
class SkillCategory(Base):
    """Many-to-many relationship between skills and categories."""

    __tablename__ = "skill_categories"

    skill_id: Mapped[int] = mapped_column(
        Integer, ForeignKey("skills.skill_id", ondelete="CASCADE"), primary_key=True
    )
    category_id: Mapped[int] = mapped_column(
        Integer, ForeignKey("taxonomy_categories.category_id", ondelete="CASCADE"), primary_key=True
    )
    is_primary: Mapped[bool] = mapped_column(Boolean, nullable=False, default=False)
    created_at: Mapped[datetime] = mapped_column(
        DateTime(timezone=True), nullable=False, server_default=func.now()
    )

    # Relationships
    skill: Mapped["Skill"] = relationship("Skill", back_populates="categories")
    category: Mapped["TaxonomyCategory"] = relationship("TaxonomyCategory", back_populates="skills")

    __table_args__ = (
        Index("idx_skill_categories_skill", "skill_id"),
        Index("idx_skill_categories_category", "category_id"),
        Index("idx_skill_categories_primary", "is_primary"),
    )


