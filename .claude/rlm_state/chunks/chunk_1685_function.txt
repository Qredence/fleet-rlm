<!-- Chunk 1685: bytes 6711663-6712405, type=function -->
def create_async_module(module: dspy.Module, max_workers: int = 4) -> Any:
    """
    Convert DSPy module to async mode for FastAPI deployment.

    Uses dspy.asyncify which runs the program in a thread pool.
    Default worker limit is 8, configurable via async_max_workers.

    Args:
        module: DSPy module to convert
        max_workers: Maximum number of async workers (default: 4)

    Returns:
        Asyncified DSPy module

    Example:
        >>> module = dspy.ChainOfThought("question->answer")
        >>> async_module = create_async_module(module, max_workers=4)
        >>> result = await async_module(question="What is 2+2?")

    """
    dspy.configure(async_max_workers=max_workers)
    return dspy.asyncify(module)


