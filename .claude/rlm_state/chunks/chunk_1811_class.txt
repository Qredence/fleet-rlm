<!-- Chunk 1811: bytes 7550491-7552290, type=class -->
class AgentResponse:
    """Response from conversational service."""

    message: str  # Main conversational message
    thinking_content: str = ""  # Gemini 3 thinking tokens (if available)
    state: ConversationState | None = None  # Updated state (if changed)
    action: str | None = (
        None  # Action taken (e.g., "ask_question", "create_skill", "wait_for_confirmation")
    )
    data: dict[str, Any] = field(default_factory=dict)  # Additional data (questions, options, etc.)
    requires_user_input: bool = True  # Whether agent is waiting for user response

    def to_dict(self) -> dict[str, Any]:
        """Serialize response to dict."""
        return {
            "message": self.message,
            "thinking_content": self.thinking_content,
            "state": self.state.value if self.state else None,
            "action": self.action,
            "data": self.data,
            "requires_user_input": self.requires_user_input,
        }


============================================================
END FILE: src/skill_fleet/core/services/conversation/models.py
============================================================

============================================================
FILE: src/skill_fleet/core/services/models.py
============================================================

"""
Conversation-related models for skill-fleet services.

Extracted from agent/agent.py to support the unified service architecture.
These models track conversation state, sessions, and responses for the
conversational skill creation workflow.
"""

from __future__ import annotations

from datetime import UTC, datetime
from enum import StrEnum
from typing import Any

from pydantic import BaseModel, ConfigDict, Field

from skill_fleet.core.models import ChecklistState


