<!-- Chunk 1134: bytes 4246327-4247660, type=function -->
def test_reasoning_field_type_is_dspy_reasoning():
    # We depend on DSPy 3.1.x Reasoning behavior for native reasoning models.
    assert DeepUnderstandingSignature.model_fields["reasoning"].annotation is dspy.Reasoning
```

**Step 2: Run test to verify it fails**

Run: `uv run pytest tests/unit/test_signature_reasoning_types.py -v`
Expected: FAIL (currently `str`)

**Step 3: Minimal implementation**

Change in signatures:
- `reasoning: str = dspy.OutputField(...)`
to
- `reasoning: dspy.Reasoning = dspy.OutputField(...)`

Update the `desc` to mention:
- reasoning may be a `dspy.Reasoning` object; callers should use `str(reasoning)` or `reasoning.content`.

**Step 4: Run test to verify it passes**

Run: `uv run pytest tests/unit/test_signature_reasoning_types.py -v`
Expected: PASS

---

### Task 4: Harden module code paths that call `.strip()` on `reasoning`

**Files:**
- Modify: `src/skill_fleet/core/dspy/modules/conversation/*.py`
- Modify: `src/skill_fleet/core/dspy/modules/*.py` (wherever `getattr(result, "reasoning", "").strip()` exists)
- Modify: `src/skill_fleet/core/services/conversation/engine.py` (streamed thinking collection)

**Step 1: Write failing test**

Create: `tests/unit/test_reasoning_field_runtime.py`

```python
import dspy

from skill_fleet.common.dspy_compat import coerce_reasoning_text


