<!-- Chunk 2069: bytes 7974929-7976431, type=function -->
def test_cors_development_default_is_wildcard():
    """Test that in development, CORS defaults to wildcard if not set."""
    with patch(
        "skill_fleet.api.factory.settings",
        MagicMock(
            is_development=True,
            cors_origins_list=[],
        ),
    ):
        # The app logic will set cors_origins_list to ["*"] if is_development is True and it's empty.
        app = create_app()
        client = TestClient(app)
        response = client.options(
            "/health",
            headers={
                "Origin": "https://anydomain.com",
                "Access-Control-Request-Method": "GET",
            },
        )
        assert response.status_code == 200
        assert response.headers["access-control-allow-origin"] == "*"


============================================================
END FILE: tests/test_cors.py
============================================================

============================================================
FILE: tests/unit/core/modules/understanding/test_additional_modules.py
============================================================

"""Tests for understanding modules (intent, taxonomy, dependencies)."""

from unittest.mock import Mock, patch

import pytest

from skill_fleet.core.modules.understanding.dependencies import AnalyzeDependenciesModule
from skill_fleet.core.modules.understanding.intent import AnalyzeIntentModule
from skill_fleet.core.modules.understanding.taxonomy import FindTaxonomyPathModule


