<!-- Chunk 1116: bytes 4130422-4138622, type=size -->
n_files":1,"n_statements":2,"n_excluded":0,"n_missing":2,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_9dac05124ce4f549___init___py":{"hash":"5eef59cad3309f604fc06c4655c4a803","index":{"url":"z_9dac05124ce4f549___init___py.html","file":"src/skill_fleet/infrastructure/database/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":3,"n_excluded":0,"n_missing":3,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_884b0e9c540b7e08___init___py":{"hash":"de188f9055541f78cabeae5f0962e2e9","index":{"url":"z_884b0e9c540b7e08___init___py.html","file":"src/skill_fleet/llm/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":3,"n_excluded":0,"n_missing":0,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_884b0e9c540b7e08_dspy_config_py":{"hash":"7357bafca2aaa08cb4fcd8cc91f25aae","index":{"url":"z_884b0e9c540b7e08_dspy_config_py.html","file":"src/skill_fleet/llm/dspy_config.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":44,"n_excluded":0,"n_missing":12,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_884b0e9c540b7e08_fleet_config_py":{"hash":"1f515308e2c0ab39e07a386fbfc71b11","index":{"url":"z_884b0e9c540b7e08_fleet_config_py.html","file":"src/skill_fleet/llm/fleet_config.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":143,"n_excluded":0,"n_missing":36,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_e333914ccfdf2f92_bootstrap_py":{"hash":"5604852d56412958f587ba29034c90e4","index":{"url":"z_e333914ccfdf2f92_bootstrap_py.html","file":"src/skill_fleet/onboarding/bootstrap.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":95,"n_excluded":0,"n_missing":32,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_260775d65c0a1657___init___py":{"hash":"45afd578f061d7467915914733450c68","index":{"url":"z_260775d65c0a1657___init___py.html","file":"src/skill_fleet/services/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":3,"n_excluded":0,"n_missing":3,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_3369dadd675f621b___init___py":{"hash":"7d7c19c47e41da5a3d1c50a1f5d56622","index":{"url":"z_3369dadd675f621b___init___py.html","file":"src/skill_fleet/services/monitoring/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":2,"n_excluded":0,"n_missing":2,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_3369dadd675f621b_mlflow_setup_py":{"hash":"2429f7b338e77e31db1d3c7fe422d7d1","index":{"url":"z_3369dadd675f621b_mlflow_setup_py.html","file":"src/skill_fleet/services/monitoring/mlflow_setup.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":37,"n_excluded":1,"n_missing":37,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_ec38ff19e95bbefa___init___py":{"hash":"e81486a1ffff3ce34f3fafdc7ca45162","index":{"url":"z_ec38ff19e95bbefa___init___py.html","file":"src/skill_fleet/taxonomy/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":3,"n_excluded":0,"n_missing":0,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_ec38ff19e95bbefa_manager_py":{"hash":"d72a8d38561f2afa2fd76a57675eb8ab","index":{"url":"z_ec38ff19e95bbefa_manager_py.html","file":"src/skill_fleet/taxonomy/manager.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":485,"n_excluded":0,"n_missing":270,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_ec38ff19e95bbefa_models_py":{"hash":"b30749c1ff657526a54606ca785cd12e","index":{"url":"z_ec38ff19e95bbefa_models_py.html","file":"src/skill_fleet/taxonomy/models.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":18,"n_excluded":0,"n_missing":0,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_407dffe0a0b5ebf2___init___py":{"hash":"24c4269306d31d7b64a956b1a4ae240e","index":{"url":"z_407dffe0a0b5ebf2___init___py.html","file":"src/skill_fleet/validators/__init__.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":2,"n_excluded":0,"n_missing":0,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}},"z_407dffe0a0b5ebf2_skill_validator_py":{"hash":"c47522f9e4360e5ff9ead7332819c40e","index":{"url":"z_407dffe0a0b5ebf2_skill_validator_py.html","file":"src/skill_fleet/validators/skill_validator.py","description":"","nums":{"precision":0,"n_files":1,"n_statements":471,"n_excluded":0,"n_missing":145,"n_branches":0,"n_partial_branches":0,"n_missing_branches":0}}}}}

============================================================
END FILE: docs/internal/reports/baseline/status.json
============================================================

============================================================
FILE: docs/internal/reports/migration-checklist.md
============================================================

# Migration & Update Checklist

**Date:** 2026-01-16
**Status:** DRAFT (Phase 5 Output)

This checklist tracks the implementation steps required to execute the Taxonomy Simplification Plan.

## 1. Code Updates

### Core Logic

- [ ] **Create Index Model**: Define Pydantic models for `taxonomy_index.json` schema (`src/skill_fleet/core/models.py`).
- [ ] **Update Manager**: Modify `src/skill_fleet/taxonomy/manager.py`:
  - [ ] Add `load_index()`.
  - [ ] Update `__init__` to prioritize index.
  - [ ] Implement `resolve_skill_location` algorithm (Index -> FS fallback).
  - [ ] Add Deprecation Warnings for alias access.
- [ ] **Update Validator**: Modify `src/skill_fleet/validators/skill_validator.py`:
  - [ ] Validate new `canonical_path` constraints (depth <= 3).
  - [ ] Warn on aliases.

### API Layer

- [ ] **Update Endpoints**: `src/skill_fleet/api/routes/skills.py` & `taxonomy.py`.
  - [ ] `GET /taxonomy` should return the Logical Tree from Index.
  - [ ] `GET /skills/{path}` should accept aliases (via Manager resolution).

### CLI

- [ ] **Fix Migration Command**: `src/skill_fleet/cli/commands/migrate.py`.
  - [ ] Add mode to "Materialize Index" (move files to canonical paths).

## 2. Data Migration

- [ ] **Generate Index**: Run script to build initial `skills/taxonomy_index.json` from `reports/taxonomy-map.md`.
- [ ] **Verify Aliases**: Ensure all existing paths are captured as aliases.

## 3. Testing Matrix

| Component      | Test Case                          | Expected Outcome                 |
| :------------- | :--------------------------------- | :------------------------------- |
| **Lookup**     | `get_metadata("legacy/deep/path")` | Returns Metadata + Logs Warning. |
| **Lookup**     | `get_metadata("canonical/path")`   | Returns Metadata.                |
| **Validation** | `validate("legacy/deep/path")`     | Passes (with warning).           |
| **Creation**   | Create new skill at `canonical`    | Succeeds, adds to Index.         |
| **Creation**   | Create new skill at `legacy/deep`  | Fails (enforce new depth rules). |

## 4. Rollback Strategy

If index-based resolution fails in production:

1.  **Revert Code**: Rollback `TaxonomyManager` changes.
2.  **Delete Index**: Remove `skills/taxonomy_index.json`.
3.  **No Data Loss**: Since we are _not moving directories_ in Phase A, the filesystem remains strictly valid for the old version.


============================================================
END FILE: docs/internal/reports/migration-checklist.md
============================================================

============================================================
FILE: docs/internal/reports/resolution-plan.md
============================================================

# Backward-Compatible Resolution & Deprecation Plan

**Date:** 2026-01-16
**Status:** DRAFT (Phase 3 Output)
**Related:** `taxonomy-index-schema.md`

This document defines how the system will resolve skill identifiers to paths while maintaining backward compatibility for existing (legacy) paths during the taxonomy simplification migration.

## 1. Resolution Logic (Polyfill Strategy)

The `TaxonomyManager` will be updated to use a **Index-First, Filesystem-Fallback** strategy.

### Resolution Algorithm

```python
