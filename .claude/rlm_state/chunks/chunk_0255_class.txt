<!-- Chunk 255: bytes 313401-314940, type=class -->
class ActivityLogger:
    """User activity logging."""
    def log_login(self, user: User): ...
    def log_action(self, user: User, action: str): ...
```

## Reduce Complexity

### Pattern: Extract Nested Logic

**Before:**
```python
async def process_users(user_ids):
    results = []
    for user_id in user_ids:
        user = await db.get_user(user_id)
        if user:
            if user.is_active:
                orders = await db.get_orders(user_id)
                if orders:
                    total = sum(o.amount for o in orders)
                    if total > 1000:
                        results.append({
                            "user_id": user_id,
                            "total": total,
                            "status": "vip"
                        })
    return results
```

**After:**
```python
async def is_vip_user(user_id: str) -> tuple[bool, float]:
    user = await db.get_user(user_id)
    if not user or not user.is_active:
        return False, 0

    orders = await db.get_orders(user_id)
    if not orders:
        return False, 0

    total = sum(o.amount for o in orders)
    return total > 1000, total

async def process_users(user_ids):
    results = []
    for user_id in user_ids:
        is_vip, total = await is_vip_user(user_id)
        if is_vip:
            results.append({
                "user_id": user_id,
                "total": total,
                "status": "vip"
            })
    return results
```

### Pattern: Replace Loop with Comprehension

**Before:**
```python
