<!-- Chunk 1814: bytes 7553801-7554528, type=class -->
class ConversationMessage(BaseModel):
    """
    A single message in conversation history.

    Represents a message exchanged between user and agent during
    the skill creation conversation.
    """

    role: MessageRole = Field(description="Who sent this message")
    content: str = Field(description="Message content")
    timestamp: datetime = Field(
        default_factory=lambda: datetime.now(UTC),
        description="When the message was sent",
    )
    metadata: dict[str, Any] = Field(
        default_factory=dict,
        description="Optional metadata (e.g., thinking content, action taken)",
    )

    # Pydantic v2: avoid deprecated class-based Config + json_encoders.
    model_config = ConfigDict()


