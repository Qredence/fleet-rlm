<!-- Chunk 2020: bytes 7901902-7903122, type=class -->
class TestDefaultProfilesPath:
    """Tests for default_profiles_path function."""

    def test_returns_profiles_from_repo_root(self, tmp_path: Path):
        """Test returning profiles path from repo root."""
        (tmp_path / ".git").mkdir()
        profiles_dir = tmp_path / "config" / "profiles"
        profiles_dir.mkdir(parents=True)
        profiles_file = profiles_dir / "bootstrap_profiles.json"
        profiles_file.touch()

        with patch("skill_fleet.common.paths.Path.cwd", return_value=tmp_path):
            result = default_profiles_path()

        assert result == profiles_file

    def test_returns_fallback_when_no_profiles_exist(self, tmp_path: Path):
        """Test returning fallback path when profiles don't exist."""
        isolated = tmp_path / "isolated"
        isolated.mkdir()

        with patch("skill_fleet.common.paths.Path.cwd", return_value=isolated):
            with patch("skill_fleet.common.paths.find_repo_root", return_value=None):
                with patch("skill_fleet.common.paths._package_root", return_value=isolated):
                    result = default_profiles_path()

        assert result == isolated / "config" / "profiles" / "bootstrap_profiles.json"


