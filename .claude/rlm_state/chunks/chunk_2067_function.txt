<!-- Chunk 2067: bytes 7973455-7974256, type=function -->
def test_cors_production_with_explicit_origins_works():
    """Test that the app starts in production with explicit CORS origins."""
    origins = ["https://example.com", "https://app.example.com"]
    with patch(
        "skill_fleet.api.factory.settings",
        MagicMock(
            is_development=False,
            cors_origins_list=origins,
        ),
    ):
        app = create_app()
        client = TestClient(app)
        # Verify CORS headers
        response = client.options(
            "/health",
            headers={
                "Origin": "https://example.com",
                "Access-Control-Request-Method": "GET",
            },
        )
        assert response.status_code == 200
        assert response.headers["access-control-allow-origin"] == "https://example.com"


