<!-- Chunk 1576: bytes 6513547-6516013, type=function -->
def main_callback(
    ctx: typer.Context,
    api_url: str = typer.Option(
        "http://localhost:8000",
        "--api-url",
        "-a",
        help="API server URL (default: http://localhost:8000)",
        envvar="SKILL_FLEET_API_URL",
    ),
    user_id: str = typer.Option(
        "default",
        "--user",
        "-u",
        help="User ID for context and analytics (default: default)",
        envvar="SKILL_FLEET_USER_ID",
    ),
):
    r"""
    Skill Fleet CLI - Hierarchical skills taxonomy + DSPy workflow management.

    This CLI provides a comprehensive interface for managing AI agent skills,
    including creation, validation, optimization, and deployment capabilities.

    \b
    Common workflows:
      - Create skills: uv run skill-fleet create "Your task description"
      - Start server: uv run skill-fleet serve
      - Validate skills: uv run skill-fleet validate <skill-path>
      - Interactive mode: uv run skill-fleet chat

    \b
    Global options:
      --api-url/-a: Set the API server URL
      --user/-u: Set the user ID for context

    \b
    Environment variables:
      SKILL_FLEET_API_URL: Default API server URL
      SKILL_FLEET_USER_ID: Default user ID
    """
    # Store config object in Click context
    ctx.obj = CLIConfig(api_url=api_url, user_id=user_id)


# Register commands from separate files
app.command(name="create")(create_command)
app.command(name="list")(list_command)
app.command(name="serve")(serve_command)
app.command(name="dev")(dev_command)
app.command(name="chat")(chat_command)
app.command(name="terminal")(terminal_command)
app.command(name="validate")(validate_command)
app.command(name="analytics")(analytics_command)
app.command(name="migrate")(migrate_command)
app.command(name="generate-xml")(generate_xml_command)
app.command(name="promote")(promote_command)

# Register database command group
app.add_typer(db_app, name="db")

if __name__ == "__main__":
    app()


============================================================
END FILE: src/skill_fleet/cli/app.py
============================================================

============================================================
FILE: src/skill_fleet/cli/client.py
============================================================

"""HTTP client for communicating with the Skill Fleet API."""

from __future__ import annotations

import logging
from typing import Any

import httpx

logger = logging.getLogger(__name__)


