<!-- Chunk 1607: bytes 6611862-6613844, type=function -->
def get_handler(
    interaction_type: str, console: Console, ui: PromptUI | None = None
) -> InteractionHandler | None:
    """
    Get a handler instance for the given interaction type.

    Args:
        interaction_type: The HITL interaction type (e.g., "deep_understanding")
        console: Rich console for rendering
        ui: PromptUI for user input (uses default if None)

    Returns:
        Handler instance or None if interaction_type not registered
    """
    handler_class = HANDLERS.get(interaction_type)
    if handler_class:
        return handler_class(console, ui)
    return None


__all__ = [
    "InteractionHandler",
    "DeepUnderstandingHandler",
    "TDDRedHandler",
    "TDDGreenHandler",
    "TDDRefactorHandler",
    "get_handler",
]


============================================================
END FILE: src/skill_fleet/cli/hitl/handlers/__init__.py
============================================================

============================================================
FILE: src/skill_fleet/cli/hitl/runner.py
============================================================

"""
Shared HITL job runner for CLI commands.

The Skill Fleet API uses a background job + HITL (Human-in-the-Loop) prompt model:
- CLI starts a job via `/api/v1/skills/`
- API exposes the current prompt via `/api/v1/hitl/{job_id}/prompt`
- CLI responds via `/api/v1/hitl/{job_id}/response`

This module centralizes the polling + interaction handling so `create` and `chat`
commands stay consistent.
"""

from __future__ import annotations

import asyncio
from typing import Any, cast

from rich.console import Console
from rich.markdown import Markdown
from rich.panel import Panel
from rich.status import Status

from ..ui.prompts import (
    PromptUI,
    choose_many_with_other,
    choose_one_with_other,
    get_default_ui,
)
from ..utils.constants import HITL_POLL_INTERVAL

# Import handler registry for new interaction types
from .handlers import get_handler


