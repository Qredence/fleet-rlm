<!-- Chunk 1798: bytes 7476652-7477098, type=function -->
def combined_plan_reward(args, pred: dspy.Prediction) -> float:
    """
    Combined reward for Plan step (metadata + capabilities).

    Returns:
        float: Weighted average score between 0.0 and 1.0

    """
    metadata_score = metadata_completeness_reward(args, pred)
    capabilities_score = capabilities_reward(args, pred)

    # Weight metadata higher as it's more critical
    return metadata_score * 0.6 + capabilities_score * 0.4


