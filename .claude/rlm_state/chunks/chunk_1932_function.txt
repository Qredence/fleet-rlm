<!-- Chunk 1932: bytes 7769446-7770212, type=function -->
def ensure_all_skills_loaded(
    skills_root: Path,
    metadata_cache: dict[str, SkillMetadata],
    load_dir_func: Callable,
) -> None:
    """
    Load all skills from disk into the metadata cache.

    Args:
        skills_root: Root directory of the taxonomy
        metadata_cache: Dictionary mapping skill IDs to SkillMetadata
        load_dir_func: Function to load skill directory metadata

    """
    for skill_dir in skills_root.rglob("metadata.json"):
        skill_id = str(skill_dir.parent.relative_to(skills_root))
        if skill_id not in metadata_cache:
            try:
                load_dir_func(skill_dir.parent)
            except Exception:
                # Skip invalid skills - they may have malformed metadata
                pass


