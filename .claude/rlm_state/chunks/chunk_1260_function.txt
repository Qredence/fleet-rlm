<!-- Chunk 1260: bytes 4693412-4695115, type=function -->
def demo_tracking():
    """Demonstration of DSPy tracking capabilities."""
    print("\n" + "=" * 70)
    print("ðŸš€ DSPy TRACKING DEMO")
    print("=" * 70)

    tracker = DSPyTracker(output_path="config/dspy_tracking/demo")

    # Configure DSPy with usage tracking
    lm = get_lm("gemini-3-flash-preview", temperature=1.0)
    dspy.configure(lm=lm, track_usage=True)

    # Create test program
    from skill_fleet.core.dspy.signatures.phase1_understanding import GatherRequirements

    class TestProgram(dspy.Module):
        def __init__(self):
            super().__init__()
            self.gather = dspy.ChainOfThought(GatherRequirements)

        def forward(self, task_description: str):
            return self.gather(task_description=task_description)

    program = TestProgram()

    # Test simple execution
    print("\nðŸ“‹ Tracking simple execution...")
    tracker.track_execution(
        model_name="gemini-3-flash-preview",
        task_type="prediction",
        execution_fn=program,
        task_description="Create a Python async skill",
    )

    # Test optimization
    print("\nðŸ“‹ Tracking optimization...")
    tracker.track_optimization(
        optimizer_type="Reflection Metrics",
        trainset=[dspy.Example(task_description="test") for _ in range(5)],
        testset=[dspy.Example(task_description="test") for _ in range(2)],
        baseline_score=0.5,
        optimized_score=0.51,
        parameters={"auto_level": "light", "iterations": 3},
        execution_time_seconds=0.06,
    )

    # Print summary
    tracker.print_summary()

    # Save session
    tracker.save_session()

    print("\nâœ… Demo complete! Check config/dspy_tracking/demo/ for JSON files")


